{"version":3,"sources":["redux/reducers/app.js","redux/reducers/user.js","redux/reducers/api.js","redux/reducers/spy.js","redux/reducers/mouse.js","redux/reducers/play.js","redux/reducers/games.js","config.js","redux/reducers/index.js","helpers/index.js","redux/epics/app.js","redux/epics/user.js","redux/epics/api.js","redux/epics/spy.js","helpers/play.js","redux/store/index.js","redux/epics/play.js","redux/epics/games.js","redux/epics/index.js","redux/actions/index.js","components/buttons.js","pages/root.js","pages/game.js","components/navigation.js","serviceWorker.js","index.js"],"names":["initialState","Immutable","fromJS","status","route","auth","email","token","serverUrl","startTime","timeline","timelineCursor","playerTime","recording","playing","delay","left","top","event","preloadedSongs","id","icon","color","info","title","description","songs","name","url","reducers","combineReducers","app","state","arguments","length","undefined","action","type","set","changeRoute","payload","ready","setAuth","user","res","setToken","setEmail","loggedOut","api","setServerUrl","spy","x","y","w","h","actionType","actionPayload","callback","get","toJS","push","time","Date","getTime","addUserEvent","startRecording","stopRecording","startPlaying","stopPlaying","increaseTimelineCursor","increasePlayerTime","resetPlayer","mouse","setPosition","setClick","reset","play","song","songPreloadComplete","songSetCurrent","games","Ajax","method","headers","body","Promise","resolve","reject","xhr","XMLHttpRequest","open","Object","keys","forEach","key","setRequestHeader","onload","this","response","statusText","onerror","send","JSON","stringify","epics_app","APP_INIT","action$","pipe","ofType","map","APP_LINK","store","tap","mergeMap","value","concat","of","epics_user","USER_LOGGED_IN","epics_api","API_GET","switchMap","actions","from","then","parse","success","error","content","catch","err","get$","takeUntil","API_POST","content-type","post$","epics_spy","SPY_WATCH_MOUSE_MOVE","fromEvent","document","throttleTime","e","pageX","pageY","SPY_WATCH_SCREEN_SIZE","window","innerWidth","innerHeight","SPY_WATCH_MOUSE_CLICK","SPY_START_PLAYING","interval","index","nextEvent","SPY_START_RECORDING","SPY_STOP_RECORDING","SPY_PREVIEW_EVENT","setTimeout","MOUSE_SET_CLICK","Howler","volume","epics_play","PLAY_SONG","currentSong","stop","audio","epics_games","GAMES_PRELOAD_RESOURCES","path","location","pathname","el","console","log","Howl","src","once","dispatch","epics","objectSpread","newEpics","i","epicsCompined","combineEpics","apply","toConsumableArray","epicMiddleware","createEpicMiddleware","createStore","applyMiddleware","logger","run","actionCreator","Button","_ref","classes","onClick","children","react_default","a","createElement","className","style","backgroundColor","textAlign","cursor","PageRoot","_onClickLink","target","getAttribute","_this","props","fire","history","buttons_Button","Component","connect","Game","_playSong","_this2","game","match","params","totalSongs","NavigationLink","Navigation","navigation_NavigationLink","withRouter","Boolean","hostname","ReactDOM","render","es","BrowserRouter","react","navigation","Route","exact","component","Root","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.fc9aae52.chunk.js","sourcesContent":["import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  status: null,\n  route: '/',\n  auth: false\n})\n\nconst ready = state => (\n  state\n  .set( 'status', 'ready' )\n)\nconst changeRoute = ( state, url ) => (\n  state\n  .set( 'route', url )\n)\nconst setAuth = ( state, payload ) => (\n  state\n  .set( 'auth', payload )\n)\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    case \"APP_CHANGE_ROUTE\":\n      return changeRoute( state, action.payload )\n    case \"APP_READY\":\n      return ready( state )\n    case \"APP_SET_AUTH\":\n      return setAuth( state, action.payload )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  email: null,\n  token: null\n})\n\nconst setToken = ( state, payload ) => (\n  state.set( 'token', payload.res.token )\n)\nconst setEmail = ( state, payload ) => (\n  state.set( 'email', payload )\n)\nconst loggedOut = state => (\n  state.set( 'email', null ).set( 'token', null )\n)\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    case \"USER_SET_TOKEN\":\n      return setToken( state, action.payload )\n    case \"USER_SET_EMAIL\":\n      return setEmail( state, action.payload )\n    case \"USER_LOGGED_OUT\":\n      return loggedOut( state )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  serverUrl: 'http://localhost:5000'\n})\n\nconst setServerUrl = ( state, payload ) => (\n  state\n  .set( 'serverUrl', payload )\n)\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    case \"API_SET_SERVER_URL\":\n      return setServerUrl( state, action.payload )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  startTime: null,\n  timeline: [],\n  timelineCursor: 0,\n  playerTime: 0,\n  recording: false,\n  playing: false,\n  delay: 50\n})\n\nconst addUserEvent = ( state, payload ) => {\n  const { event, x ,y, w, h, actionType, actionPayload, callback } = payload\n  let timeline = state.get('timeline').toJS()\n  timeline.push( { time: new Date().getTime() - state.get( 'startTime' ), event, x, y, w, h, actionType, actionPayload, callback } )\n  return state.set( 'timeline', Immutable.fromJS( timeline ) )\n}\nconst startRecording = state => (\n  state.set( 'recording', true ).set( 'startTime', new Date().getTime() )\n)\nconst stopRecording = state => (\n  state.set( 'recording', false )\n)\nconst startPlaying = state => (\n  state.set( 'playing', true )\n)\nconst stopPlaying = state => (\n  state.set( 'playing', false )\n)\nconst increasePlayerTime = ( state, payload ) => (\n  state.set( 'playerTime', state.get( 'playerTime' ) + payload )\n)\nconst increaseTimelineCursor = state => (\n  state.set( 'timelineCursor', state.get( 'timelineCursor' ) + 1 )\n)\nconst resetPlayer = state => (\n  state.set( 'timelineCursor', 0 )\n        .set( 'playerTime', 0 )\n)\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ) {\n    case \"SPY_ADD_USER_EVENT\":\n      return addUserEvent( state, action.payload )\n    case \"SPY_START_RECORDING\":\n      return startRecording( state )\n    case \"SPY_STOP_RECORDING\":\n      return stopRecording( state )\n    case \"SPY_START_PLAYING\":\n      return startPlaying( state )\n    case \"SPY_STOP_PLAYING\":\n      return stopPlaying( state )\n    case \"SPY_INCREASE_TIMELINE_CURSOR\":\n      return increaseTimelineCursor( state )\n    case \"SPY_INCREASE_PLAYER_TIME\":\n      return increasePlayerTime( state, action.payload )\n    case \"SPY_RESET_PLAYER\":\n      return resetPlayer( state )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  left: 0,\n  top: 0,\n  event: null\n})\n\nconst setPosition = ( state, payload ) => {\n  const { left, top } = payload\n  return state\n  .set( 'left', left ).set( 'top', top )\n}\nconst setClick = state => {\n  return state\n  .set( 'event', 'click' )\n}\nconst reset = state => {\n  return state\n  .set( 'event', null )\n}\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    case \"MOUSE_SET_POSITION\":\n      return setPosition( state, action.payload )\n    case \"MOUSE_SET_CLICK\":\n      return setClick( state )\n    case \"MOUSE_RESET\":\n      return reset( state )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\n\nconst initialState = Immutable.fromJS({\n  preloadedSongs: {},\n  playing: ''\n})\n\nconst songPreloadComplete = ( state, song ) => {\n  const preloadedSongs = state.get( 'preloadedSongs' ).set( song, true )\n  return state.set( 'preloadedSongs', preloadedSongs )\n}\nconst songSetCurrent = ( state, song ) => {\n  return state.set( 'playing', song )\n}\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    case \"PLAY_SONG_PRELOAD_COMPLETE\":\n      return songPreloadComplete( state, action.payload )\n    case \"PLAY_SONG_SET_CURRENT\":\n      return songSetCurrent( state, action.payload )\n    default:\n      return state\n  }\n}\n","import Immutable from 'immutable'\nimport { games } from '../../config'\n\nconst initialState = Immutable.fromJS( games )\n\nexport default ( state = initialState, action ) => {\n  switch( action.type ){\n    default:\n      return state\n  }\n}\n","export const games = [\n  {\n    id: \"dontlaugh\",\n    icon: \"\",\n    color: \"#56CCF2\",\n    info: {\n      title: \"Don't Laugh\",\n      description: \"bla bla bla..\"\n    },\n    songs: [\n      {\n        name: \"happy\",\n        url: \"/snd/songs/happy.mp3\"\n      },\n      {\n        name: \"figaro\",\n        url: \"/snd/songs/figaro.mp3\"\n      },\n      {\n        name: \"surfin\",\n        url: \"/snd/songs/surfinbird.mp3\"\n      },\n      {\n        name: \"blink\",\n        url: \"/snd/songs/blink182.mp3\"\n      }\n    ]\n  },\n  {\n    id: \"blowmeup\",\n    icon: \"\",\n    color: \"#BB6BD9\",\n    info: {\n      title: \"Blow me up\",\n      description: \"bla bla bla..\"\n    },\n    songs: [\n      {\n        name: \"blink182\",\n        url: \"/snd/songs/blink182.mp3\"\n      }\n    ]\n  },\n  {\n    id: \"speedygonzales\",\n    icon: \"\",\n    color: \"#F2C94C\",\n    info: {\n      title: \"Speedy Gonzales\",\n      description: \"bla bla bla..\"\n    },\n    songs: [\n      {\n        name: \"surfinbird\",\n        url: \"/snd/songs/surfinbird.mp3\"\n      }\n    ]\n  },\n  {\n    id: \"figaro\",\n    icon: \"\",\n    color: \"#EB5757\",\n    info: {\n      title: \"Figaro\",\n      description: \"bla bla bla..\"\n    },\n    songs: [\n      {\n        name: \"figaro\",\n        url: \"/snd/songs/figaro.mp3\"\n      }\n    ]\n  }\n]\n\nexport const sounds = [\n  {\n    name: \"applause\",\n    url: \"snd/sounds/applause.mp3\"\n  },\n  {\n    name: \"boo\",\n    url: \"snd/sounds/boo.mp3\"\n  },\n  {\n    name: \"hurry\",\n    url: \"snd/sounds/hurry.mp3\"\n  }\n]\n","import { combineReducers } from 'redux'\nimport app from './app'\nimport user from './user'\nimport api from './api'\nimport spy from './spy'\nimport mouse from './mouse'\nimport play from './play'\nimport games from './games'\n\nconst reducers = combineReducers({\n  app,\n  user,\n  api,\n  spy,\n  mouse,\n  play,\n  games\n})\n\nexport default reducers\n","import { from } from 'rxjs'\n\nexport const format = (input) => {\n  return `format: ${input}`\n}\n\nexport const isIE = () => {\n  return  navigator.userAgent.indexOf( \"MSIE\" ) !== -1 ||\n          navigator.userAgent.indexOf( \"Windows\" ) !== -1\n}\n\nexport const Ajax = payload => {\n  const { url, method, headers, body } = payload\n  return new Promise( ( resolve, reject ) => {\n    const xhr = new XMLHttpRequest()\n    xhr.open( method, url, true )\n    if ( headers ) {\n      Object.keys( headers ).forEach( key => {\n        xhr.setRequestHeader( key, headers[ key ] )\n      } )\n    }\n    xhr.onload = function () {\n      if ( this.status >= 200 && this.status < 300 ) {\n        resolve( xhr.response )\n      } else {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        })\n      }\n    }\n    xhr.onerror = function () {\n      reject({\n        status: this.status,\n        statusText: xhr.statusText\n      })\n    }\n    xhr.send( JSON.stringify( body ) )\n  })\n}\n\nexport const get$ = payload => {\n  const { url, actions } = payload\n  return from(\n    Ajax({\n      url,\n      method: 'GET'\n    })\n    .then( res => {\n      res = JSON.parse( res )\n      if ( res.status === 'success' ) {\n        return { type: actions.success, payload: { payload: actions.success.payload, res } }\n      } else {\n        return { type: actions.error, payload: { url, content: res } }\n      }\n    })\n    .catch( err => {\n      return {\n        type: 'GET_ERROR',\n        payload: err\n      }\n    })\n  )\n}\n\nexport const post$ = payload => {\n  const { url, body, actions } = payload\n  return from(\n    Ajax({\n      url,\n      method: 'POST',\n      body,\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n    .then( res => {\n      res = JSON.parse( res )\n      if ( res.status === 'success' ) {\n        return { type: actions.success.type, payload: { payload: actions.success.payload, res } }\n      } else {\n        return { type: actions.error, payload: { url, content: res } }\n      }\n    })\n    .catch( err => {\n      return {\n        type: 'POST_ERROR',\n        payload: err\n      }\n    })\n  )\n}","import { mergeMap, tap, map } from 'rxjs/operators'\nimport { from, concat, of } from 'rxjs'\nimport { ofType } from 'redux-observable'\nimport { Ajax } from '../../helpers'\n\nconst get$ = ( url, actionType ) => (\n  from(\n    Ajax({\n      url,\n      method: 'GET'\n    })\n    .then( res => {\n      if ( actionType ) {\n        return { type: actionType, payload: { url, content: res } }\n      } else {\n        return { type: `get > ${ url }`, payload: { url, content: res } }\n      }\n    })\n    .catch( err => {\n      return {\n        type: 'GET_ERROR',\n        payload: err\n      }\n    })\n  )\n)\n\nconst APP_INIT = action$ => action$.pipe(\n  ofType( 'APP_INIT' ),\n  /* mergeMap( () => (\n    concat(\n      get$( 'https://reqres.in/api/users?page=2' ), // get a json from external api\n      get$( '/favicon.ico' ), // get a resource file from localhost\n      of({ type: 'APP_READY' })\n    )\n  )) */\n  map( action => ({\n    type: \"GAMES_PRELOAD_RESOURCES\",\n    payload: action.payload\n  }))\n)\n\nconst APP_LINK = ( action$, store ) => action$.pipe(\n  ofType( 'APP_LINK' ),\n  tap( action => {\n    if ( typeof action.payload.callback === 'function' ) {\n      action.payload.callback() \n    }\n  }),\n  mergeMap( action => {\n    if ( store.value.spy.get( 'recording' ) ) {\n      return concat(\n        of({\n          type: 'SPY_ADD_USER_EVENT',\n          payload: { \n            event: 'action', \n            actionType: 'APP_CHANGE_ROUTE', \n            actionPayload: action.payload.url, \n            callback: action.payload.callback \n          }\n        }),\n        of({ type: 'APP_CHANGE_ROUTE', payload: action.payload.url })\n      )\n    } else {\n      return of({ type: 'APP_CHANGE_ROUTE', payload: action.payload.url })\n    }\n  })\n)\n\nexport default {\n  APP_INIT,\n  APP_LINK\n}\n","import { mergeMap } from 'rxjs/operators'\nimport { of, concat } from 'rxjs'\nimport { ofType } from 'redux-observable'\n\nconst USER_LOGGED_IN = action$ => action$.pipe(\n  ofType( 'USER_LOGGED_IN' ),\n  mergeMap( action => (\n    concat(\n      of( { type: 'USER_SET_EMAIL', payload: action.payload.payload } ),\n      of( { type: 'USER_SET_TOKEN', payload: action.payload } )\n    )\n  ))\n)\n\nexport default {\n  USER_LOGGED_IN\n}\n","import { switchMap, takeUntil } from 'rxjs/operators'\nimport { ofType } from 'redux-observable'\nimport { get$, post$ } from '../../helpers'\n\nconst API_GET = action$ => action$.pipe(\n  ofType( 'API_GET' ),\n  switchMap( action => (\n    get$({\n      url: action.payload.url,\n      actions: action.payload.actions\n    })\n    .pipe(\n      takeUntil( action$.ofType( 'API_STOP_ALL' ) )\n    )\n  ))\n)\n\nconst API_POST = action$ => action$.pipe(\n  ofType( 'API_POST' ),\n  switchMap( action => (\n    post$({\n      url: action.payload.url,\n      body: action.payload.body,\n      actions: action.payload.actions\n    })\n    .pipe(\n      takeUntil( action$.ofType( 'API_STOP_ALL' ) )\n    )\n  ))\n)\n\nexport default {\n  API_GET,\n  API_POST\n}\n","import { map, mergeMap, switchMap, throttleTime, takeUntil, delay } from 'rxjs/operators'\nimport { fromEvent, interval, of, concat } from 'rxjs'\nimport { ofType } from 'redux-observable'\n\nconst SPY_WATCH_MOUSE_MOVE = ( action$, store ) => action$.pipe(\n  ofType( 'SPY_WATCH_MOUSE_MOVE' ),\n  switchMap( () => (\n    fromEvent( document, 'mousemove' )\n      .pipe(\n        takeUntil( action$.ofType( 'SPY_WATCH_STOP' ) )\n      )\n  )),\n  throttleTime( store.value.spy.get( 'delay' ) ),\n  map( e => ({\n    type: 'SPY_ADD_USER_EVENT', \n    payload: {\n      event: 'move',\n      x: e.pageX,\n      y: e.pageY\n    }\n  }))\n)\n\nconst SPY_WATCH_MOUSE_CLICK = action$ => action$.pipe(\n  ofType( 'SPY_WATCH_MOUSE_CLICK' ),\n  switchMap( () => (\n    fromEvent( document, 'click' )\n      .pipe(\n        takeUntil( action$.ofType( 'SPY_WATCH_STOP' ) )\n      )\n  )),\n  map( e => ({\n    type: 'SPY_ADD_USER_EVENT', \n    payload: {\n      event: 'click',\n      x: e.pageX,\n      y: e.pageY\n    }\n  }))\n)\n\nconst SPY_WATCH_SCREEN_SIZE = ( action$, store ) => action$.pipe(\n  ofType( 'SPY_WATCH_SCREEN_SIZE' ),\n  switchMap( () => (\n    fromEvent( window, 'resize' )\n      .pipe(\n        takeUntil( action$.ofType( 'SPY_WATCH_STOP' ) )\n      )\n  )),\n  throttleTime( store.value.spy.get( 'delay' ) ),\n  map( () => ({\n    type: 'SPY_ADD_USER_EVENT', \n    payload: {\n      event: 'resize',\n      w: window.innerWidth,\n      h: window.innerHeight\n    }\n  }))\n)\n\nconst SPY_START_PLAYING = ( action$, store ) => action$.pipe(\n  ofType( 'SPY_START_PLAYING' ),\n  switchMap( () => (\n    interval( store.value.spy.get( 'delay' ) )\n      .pipe(\n        takeUntil( action$.ofType( 'SPY_STOP_PLAYING' ) )\n      )\n  )),\n  mergeMap( () => {\n    const time = store.value.spy.get( 'playerTime' )\n    const index = store.value.spy.get( 'timelineCursor' )\n    const nextEvent = store.value.spy.get( 'timeline' ).toJS()[ index ]\n    if ( !nextEvent ) {\n      return concat(\n        of({ type: 'SPY_STOP_PLAYING' }),\n        of({ type: 'SPY_RESET_PLAYER' })\n      )\n    } else {\n      if ( time >= nextEvent.time ) {\n        return concat(\n          of({ type: 'SPY_PREVIEW_EVENT', payload: nextEvent }),\n          of({ type: 'SPY_INCREASE_TIMELINE_CURSOR' })\n        )\n      } else {\n        return of({\n          type: 'SPY_INCREASE_PLAYER_TIME',\n          payload: store.value.spy.get( 'delay' )\n        })\n      }\n    }\n  })\n)\n\nconst SPY_PREVIEW_EVENT = ( action$, store ) => action$.pipe(\n  ofType( 'SPY_PREVIEW_EVENT' ),\n  map( action => {\n    switch( action.payload.event ) {\n      case\"move\":\n        return { \n          type: 'MOUSE_SET_POSITION',\n          payload: {\n            left: action.payload.x,\n            top: action.payload.y,\n          }\n        }\n      case\"click\":\n        return { \n          type: 'MOUSE_SET_CLICK'\n        }\n      case\"action\":\n        if ( typeof action.payload.callback === 'function' ) {\n          setTimeout( action.payload.callback, store.value.spy.get( 'delay' ) + 150 )\n        }\n        return {\n          type: action.payload.actionType,\n          payload: action.payload.actionPayload \n        }\n      default:\n        return { type: '' }\n    }\n    \n  })\n)\n\nconst MOUSE_SET_CLICK = action$ => action$.pipe(\n  ofType( 'MOUSE_SET_CLICK' ),\n  delay( 50 ),\n  map( () => {\n    return { type: 'MOUSE_RESET' }\n    })\n  )\n\nconst SPY_START_RECORDING = action$ => action$.pipe(\n  ofType( 'SPY_START_RECORDING' ),\n  mergeMap( () => (\n    concat(\n      of({ type: 'SPY_WATCH_MOUSE_MOVE' }),\n      of({ type: 'SPY_WATCH_MOUSE_CLICK' }),\n      of({ type: 'SPY_WATCH_SCREEN_SIZE' })\n    )\n  ))\n)\n\nconst SPY_STOP_RECORDING = action$ => action$.pipe(\n  ofType( 'SPY_STOP_RECORDING' ),\n  map( () => (\n    { type: 'SPY_WATCH_STOP' }\n  ))\n)\n\nexport default {\n  SPY_WATCH_MOUSE_MOVE,\n  SPY_WATCH_SCREEN_SIZE,\n  SPY_WATCH_MOUSE_CLICK,\n  SPY_START_PLAYING,\n  SPY_START_RECORDING,\n  SPY_STOP_RECORDING,\n  SPY_PREVIEW_EVENT,\n  MOUSE_SET_CLICK\n}\n","import { Howl, Howler } from 'howler'\nHowler.volume(1)\n\nexport const songs = {}\n\nexport const preloadSong = ( song, callback ) => {\n  if ( !songs[ song ] ) {\n    songs[ song ] = new Howl({ src: [ song ] })\n    songs[ song ].once('load', callback )\n  }\n}\nexport const playSong = name => {\n  songs[ name ].play()\n}\nexport const stopSong = name => {\n  songs[ name ].stop()\n}","import { createStore, applyMiddleware } from 'redux'\nimport { logger } from 'redux-logger'\nimport reducers from '../reducers'\nimport epics from '../epics'\nimport { createEpicMiddleware, combineEpics } from 'redux-observable'\nimport * as audio from '../../helpers/play'\n\n/* const spy = store => next => action => {\n  if ( action.type === 'APP_INIT') {\n    console.log(store.getState())\n    store.dispatch({ type: 'test' })\n  } \n  let result = next(action)\n  console.log('next state', store.getState())\n  return result\n} */\n\nconst newEpics = Object.keys(epics).map(i => epics[i])\nconst epicsCompined = combineEpics(...newEpics)\nconst epicMiddleware = createEpicMiddleware()\nvar store\n\nif (process.env.NODE_ENV === 'production') {\n  store = createStore(\n    reducers, \n    applyMiddleware( logger, epicMiddleware )\n  )\n} else {\n  store = createStore(\n    reducers, \n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n    applyMiddleware( logger, epicMiddleware )\n  )\n}\nepicMiddleware.run(epicsCompined)\n\nstore.dispatch({type: 'APP_INIT', payload: store })\n\nexport default store\n","import { map, tap } from 'rxjs/operators'\nimport { ofType } from 'redux-observable'\nimport * as audio from '../../helpers/play'\n\nconst PLAY_SONG = ( action$, store ) => action$.pipe(\n  ofType( 'PLAY_SONG' ),\n  map( action => {\n    const currentSong = store.value.play.get('playing')\n    if ( currentSong ) {\n      audio.stopSong( currentSong )\n    }\n    if ( currentSong !== action.payload ) {\n      audio.playSong( action.payload )\n      return {\n        type: \"PLAY_SONG_SET_CURRENT\",\n        payload: action.payload\n      }\n    } else {\n      return {\n        type: \"PLAY_SONG_SET_CURRENT\",\n        payload: ''\n      }\n    }\n  })\n)\n\nexport default {\n  PLAY_SONG\n}\n","import { map, tap } from 'rxjs/operators'\nimport { ofType } from 'redux-observable'\nimport * as audio from '../../helpers/play'\n\nconst GAMES_PRELOAD_RESOURCES = ( action$, store ) => action$.pipe(\n  ofType( 'GAMES_PRELOAD_RESOURCES' ),\n  tap( action => {\n    let path = window.location.pathname\n    path === '/' ? path = '' : path = path\n    return store.value.games.toJS().map( el => {\n      return el.songs.map( song => {\n        console.log( song.url )\n        audio.preloadSong( path + song.url, () => { action.payload.dispatch( {\n          type: 'PLAY_SONG_PRELOAD_COMPLETE',\n          payload: path + song.url\n        }) } )\n        return path + song.url\n      })\n    })\n  }),\n  map( res => {\n    return {\n      type: \"GAMES_PRELOAD_RESOURCES_DONE\"\n    }\n  })\n)\n\nexport default {\n  GAMES_PRELOAD_RESOURCES\n}\n","import app from  './app'\nimport user from  './user'\nimport api from  './api'\nimport spy from  './spy'\nimport play from  './play'\nimport games from  './games'\nexport default {...app, ...user, ...api, ...spy, ...play, ...games}\n","const actionCreator = ( type, payload ) => {\n  return { type, payload }\n}\n\nexport default actionCreator","import React from 'react'\n\nexport const Button = ({ color, classes, onClick, children, url }) => (\n  <div url={ url } className={`d-flex justify-content-center align-items-center ${ classes ? classes : ''}`} style={{ color: 'white', backgroundColor: color ? color : 'grey', textAlign: 'center', cursor: 'pointer' }} onClick={ onClick }>\n    { children }\n  </div>\n)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport actions from '../redux/actions'\nimport { Button } from '../components/buttons'\n\nclass PageRoot extends Component {\n  _onClickLink = e => {\n    const url = e.target.getAttribute('url')\n    this.props.fire( 'APP_LINK', { url, callback: () => { this.props.history.push( url ) } } )\n  }\n  render() {\n    return (\n      <div className=\"page page--root h-100 d-flex flex-column justify-content-center align-items-center flex-wrap\">\n        <Button onClick={ this._onClickLink } url=\"/games/dontlaugh\" color=\"#56CCF2\" classes=\"w-50 h-50\">\n          DON'T<br/>LAUGH\n        </Button>\n        <Button onClick={ this._onClickLink } url=\"/games/speedygonzales\" color=\"#F2C94C\" classes=\"w-50 h-50\">\n          SPEEDY<br/>GONZALES\n        </Button>\n        <Button onClick={ this._onClickLink } url=\"/games/blowmeup\" color=\"#BB6BD9\" classes=\"w-50 h-50\">\n          BLOW<br/>ME UP\n        </Button>\n        <Button onClick={ this._onClickLink } url=\"/games/figaro\" color=\"#EB5757\" classes=\"w-50 h-50\">\n          FIGARO\n        </Button>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    app: state.app\n  }\n}\n\nconst mapDispatch = (dispatch) => {\n  return {\n      fire: (action, payload) => {\n        dispatch(actions(action, payload))\n      }\n  }\n}\nexport default connect( mapState, mapDispatch )( PageRoot )\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport actions from '../redux/actions'\nimport { Button } from '../components/buttons'\n\nclass Game extends Component {\n  _playSong = song => {\n    this.props.fire( 'PLAY_SONG', song )\n  }\n  render() {\n    const { preloadedSongs } = this.props\n    const game = this.props.match.params.game\n    let color\n    let songs = []\n    this.props.games.forEach( el => {\n      if ( el.id === game ) {\n        color = el.color\n        songs = el.songs\n      }\n    })\n    const totalSongs = songs.length\n    return (\n      <div className=\"page page--root h-100 d-flex flex-column justify-content-center align-items-center flex-wrap\">\n        <div className=\"h-100 w-50\">\n          \n        </div>\n        <div className=\"h-100 w-50 d-flex flex-column justify-content-center align-items-center\">\n          {\n            songs.map( el => {\n              if ( preloadedSongs[ el.url ] ) {\n                return (\n                  <Button key={ el.name } onClick={ () => { this._playSong( el.url ) } } color={ color } classes={`w-100 h-${ 100 / totalSongs }`}>\n                    { el.name }\n                  </Button>\n                )\n              } else {\n                return (\n                  <Button key={ el.name } color=\"grey\" classes={`w-100 h-${ 100 / totalSongs }`}>\n                    loading...\n                  </Button>\n                )\n              }\n            })\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => {\n  return {\n    app: state.app,\n    games: state.games.toJS(),\n    preloadedSongs: state.play.get( 'preloadedSongs' ).toJS()\n  }\n}\n\nconst mapDispatch = (dispatch) => {\n  return {\n      fire: (action, payload) => {\n        dispatch(actions(action, payload))\n      }\n  }\n}\nexport default connect( mapState, mapDispatch )( Game )\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport actions from '../redux/actions'\nimport { withRouter } from \"react-router-dom\"\n\nconst NavigationLink = ({ url, onClick, children }) => (\n  <div url={ url } className=\"navigation__link btn btn-link p-2 d-flex justify-content-center align-items-center\" onClick={ onClick }>{ children }</div>\n)\nclass Navigation extends Component {\n  _onClickLink = e => {\n    const url = e.target.getAttribute('url')\n    this.props.fire( 'APP_LINK', { url, callback: () => { this.props.history.push( url ) } } )\n  }\n  render() {\n    return ( \n      <div className=\"navigation d-flex align-items-center justify-content-center\">\n        <NavigationLink onClick={ this._onClickLink } url=\"/\">home</NavigationLink>\n      </div>\n    )\n  }\n}\n\nconst mapState = state => {\n  return {\n      app: state.app\n  }\n}\n\nconst mapDispatch = dispatch => {\n  return {\n      fire: ( action, payload ) => {\n          dispatch( actions( action, payload ) )\n      }\n  }\n}\nexport default connect( mapState, mapDispatch )( withRouter( Navigation ) )\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, { Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport './bootstrap.css';\nimport './index.css';\nimport Root from './pages/root';\nimport Game from './pages/game';\n//import Tracker from './pages/tracker';\n//import Apis from './pages/apis';\nimport Navigation from './components/navigation'\n//import Mouse from './components/mouse'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={ store }>\n    <Router>\n      <Fragment>\n        <Navigation />\n        <Route exact path=\"/\" component={ Root } />\n        <Route exact path=\"/games/:game\" component={ Game } />\n      </Fragment>\n    </Router>\n  </Provider>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}